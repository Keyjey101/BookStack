{"version":3,"sources":["firebase.js","components/BookList.jsx","components/AddForm.jsx","components/partials/Header.jsx","components/Main.jsx","components/partials/Footer.jsx","App.js","index.js"],"names":["firebaseConfig","apiKey","process","API_KEY","authDomain","projectId","storageBucket","messagingSenderId","appId","APP_ID","measurementId","firebase","initializeApp","BookList","year","books","listOfBooks","sort","Card","style","marginLeft","marginBottom","marginRight","display","CardContent","margin","Typography","variant","gutterBottom","align","map","e","Container","color","title","author","join","raiting","ISBN","uuidv4","AddForm","props","useState","authors","setAuthors","setTitle","setYear","setRaiting","isbn","setIsbn","addOrDel","setAddOrDel","isbnS","replace","checkIsnb","a","b","c","match","bookToDelete","setBookToDelete","maxWidth","Paper","className","Button","onClick","backgroundColor","marginTop","TextField","id","label","helperText","maxLength","required","onChange","target","value","length","x","type","key","i","uuid","filter","InputProps","inputProps","min","max","alert","Date","getFullYear","firestore","collection","add","Number","parseInt","then","size","disabled","FormControl","Select","event","MenuItem","FormHelperText","book","doc","delete","console","log","catch","deleteBook","startIcon","Header","fontSize","SORT_OPTIONS","column","direction","Main","sortBy","setSortBy","setBooks","useEffect","unsuscribe","orderBy","onSnapshot","snaphot","newBooks","docs","data","useBooks","booksUniqYear","Set","reverse","arrayOfBooks","forEach","obj","arr","push","currentYear","shufB","j","Math","floor","random","shuffle","reduce","prev","current","CircularProgress","Footer","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e2464140.chunk.js","sourcesContent":["\r\nimport firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\n\r\nvar firebaseConfig = {\r\n    apiKey: process.env.API_KEY,\r\n    authDomain: \"awesome-book-store.firebaseapp.com\",\r\n    projectId: \"awesome-book-store\",\r\n    storageBucket: \"awesome-book-store.appspot.com\",\r\n    messagingSenderId: \"422945911587\",\r\n    appId: process.env.APP_ID,\r\n    measurementId: \"G-NRNWTYVNK3\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n\r\n  export default firebase","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nfunction BookList({ year, listOfBooks }) {\r\n  const books = listOfBooks.sort();\r\n\r\n  return (\r\n    <>\r\n      <Card\r\n        style={{\r\n          marginLeft: \"10%\",\r\n          marginBottom: \"10px\",\r\n          marginRight: \"10%\",\r\n          display: \"block\",\r\n        }}\r\n      >\r\n        <CardContent style={{ margin: \"300px, 200px\" }}>\r\n          <Typography variant=\"h5\" gutterBottom align=\"left\">\r\n            {year ? year : \"forthcoming\"}\r\n          </Typography>\r\n\r\n          {books.map((e) => (\r\n            <Container key={uuidv4()}>\r\n              <Typography\r\n                variant=\"h6\"\r\n                gutterBottom\r\n                color=\"textPrimary\"\r\n                display=\"block\"\r\n              >\r\n                \"{e.title}\" by {e.author.join(\",\")}\r\n              </Typography>\r\n              <Typography\r\n                variant=\"subtitle2\"\r\n                gutterBottom\r\n                color=\"textPrimary\"\r\n                display=\"block\"\r\n              >\r\n                {e.raiting\r\n                  ? e.raiting == 10\r\n                    ? \"ДЕСЯТЬ ИЗ ДЕСЯТИ НА КОНЧИКАХ ПАЛЬЦЕВ\"\r\n                    : e.raiting + \"/10\"\r\n                  : \"not rated yet\"}\r\n              </Typography>\r\n              <Typography\r\n                variant=\"subtitle2\"\r\n                gutterBottom\r\n                color=\"textPrimary\"\r\n                display=\"block\"\r\n              >\r\n                {e.ISBN ? \"ISBN: \" + e.ISBN : null}\r\n              </Typography>\r\n            </Container>\r\n          ))}\r\n        </CardContent>\r\n      </Card>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BookList;\r\n","import React, { useState } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\n\r\nimport firebase from \"../firebase\";\r\n\r\nfunction AddForm(props) {\r\n  const [authors, setAuthors] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [year, setYear] = useState(\"\");\r\n  const [raiting, setRaiting] = useState(0);\r\n  const [isbn, setIsbn] = useState(\"\");\r\n  const [addOrDel, setAddOrDel] = useState(true);\r\n\r\n  \r\n\r\n  const isbnS = isbn.replace(/-|\\s/g, \"\");\r\n  const checkIsnb = function (a, b, c) {\r\n    if (a.match(/[a-z]/i)) {\r\n      return false;\r\n    }\r\n\r\n    for (b = c = 0; a[c] && (b += a[c++] * (c % 2 ? 1 : 3)); );\r\n    return !(b % 10);\r\n  };\r\n\r\n  function pushBook() {\r\n\r\n    //дополнительные проверки по идее на кнопку навешаны, можно удалить\r\n    if (authors[0].author === \"\" || title === \"\") {\r\n      return alert(\"make sure you complete all fields with * symbol\"); \r\n    }\r\n    if (raiting > 10 || raiting <0 ) return alert('raiting should be in range 0..10') \r\n    if (year <1800 || year > new Date().getFullYear() + 3) return alert(`we are not historiacal museum, make sure that year of published in range of 1800..${new Date().getFullYear() + 3}`)\r\n   //\r\n   \r\n    firebase\r\n      .firestore()\r\n      .collection(\"books\")\r\n      .add({\r\n        author: authors.map((x) => x.author),\r\n        year: year ? Number.parseInt(year) : null,\r\n        title: title,\r\n        raiting: raiting,\r\n        ISBN: checkIsnb(isbnS) ? isbn : null,\r\n      })\r\n      .then(() => {\r\n        setAuthors([]);\r\n        setTitle(\"\");\r\n        setYear(\"\");\r\n        setRaiting(0);\r\n        setIsbn(\"\");\r\n      });\r\n  }\r\n\r\n  const [bookToDelete, setBookToDelete] = useState(\"\");\r\n  const chooseDelete = (event) => {\r\n    setBookToDelete(event.target.value);\r\n  };\r\n\r\n  const ChangeAuthor = (value, key) => {\r\n    setAuthors(\r\n      authors.map((i) => (i.key === key ? { ...i, [\"author\"]: value } : i))\r\n    );\r\n  };\r\n\r\n  const DeleteAuthor = (uuid) => {\r\n    setAuthors(authors.filter((i) => i.key !== uuid));\r\n  };\r\n\r\n  const deleteBook = () => {\r\n    if (!bookToDelete) {\r\n      return alert(\"Сперва необходимо выбрать книгу\"); //дополнительная проверка по идее на кнопку навешано, можно удалить\r\n    }\r\n    const id = props.books.filter((book) => book.title === bookToDelete)[0].id;\r\n\r\n    firebase\r\n      .firestore()\r\n      .collection(\"books\")\r\n      .doc(id)\r\n      .delete()\r\n      .then(() =>\r\n        console.log(`Вы только что удалили книгу, ну как не стыдно...`)\r\n      )\r\n      .catch((e) => console.log(\"error while removing\", e));\r\n  };\r\n\r\n  const newAuthor = () => {\r\n    setAuthors([...authors, { author: \"\", key: uuidv4() }]);\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth={'xs'}>\r\n      <Paper\r\n        className=\"form\"\r\n        \r\n        \r\n      >\r\n        <Container\r\n          className=\"form-control-buttons\"\r\n          style={{ marginBottom: \"20px\" }}\r\n        >\r\n          <Button\r\n            onClick={() => setAddOrDel(true)}\r\n            style={\r\n              addOrDel\r\n                ? {\r\n                    backgroundColor: \"#a9c7f0\",\r\n                    color: \"white\",\r\n                    marginTop: \"20px\",\r\n                  }\r\n                : { marginTop: \"20px\" }\r\n            }\r\n          >\r\n            <Typography>Add New</Typography>\r\n          </Button>\r\n          <Button\r\n            onClick={() => setAddOrDel(false)}\r\n            style={\r\n              addOrDel\r\n                ? { marginTop: \"20px\" }\r\n                : {\r\n                    backgroundColor: \"#a9c7f0\",\r\n                    color: \"white\",\r\n                    marginTop: \"20px\",\r\n                  }\r\n            }\r\n          >\r\n            <Typography>Delete</Typography>\r\n          </Button>\r\n        </Container>\r\n        {addOrDel ? (\r\n          <Container className=\"add-form\">\r\n            <Container\r\n              className=\"title-container\"\r\n              style={{ marginBottom: \"30px\" }}\r\n            >\r\n              <TextField\r\n                id=\"title\"\r\n                label=\"Title\"\r\n                helperText=\"required field\"\r\n                maxLength=\"100\"\r\n                required\r\n                onChange={(e) => setTitle(e.target.value)}\r\n                value={title}\r\n              />\r\n            </Container>\r\n\r\n            {authors.length === 0 ? (\r\n              <Typography\r\n                variant=\"caption\"\r\n                display=\"block\"\r\n                style={{ color: \"red\" }}\r\n              >\r\n                at least one author should be added\r\n              </Typography>\r\n            ) : null}\r\n            {authors.map((x, id) => (\r\n              <Container key={id}>\r\n                <Container\r\n                  className=\"author-container\"\r\n                  style={{ marginBottom: \"10px\" }}\r\n                >\r\n                  <TextField\r\n                    type=\"text\"\r\n                    label=\"Author\"\r\n                    id=\"input-author\"\r\n                    value={x.author}\r\n                    required\r\n                    style={{ marginLeft: \"2%\" }}\r\n                    onChange={(e) => ChangeAuthor(e.target.value, x.key)}\r\n                  />\r\n                </Container>\r\n                <Button onClick={() => DeleteAuthor(x.key)}>\r\n                  <DeleteIcon style={{ marginTop: \"0.5rem\" }} />\r\n                </Button>{\" \"}\r\n              </Container>\r\n            ))}\r\n            <Container className=\"new-author-button\">\r\n              <Button\r\n                onClick={newAuthor}\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                style={{ marginBottom: \"20px\", marginTop: \"20px\" }}\r\n              >\r\n                {authors.length > 0 ? \"Co-author\" : \"Add author\"}\r\n              </Button>\r\n            </Container>\r\n\r\n            <TextField\r\n              label=\"Year\"\r\n              type=\"number\"\r\n              helperText=\"from 1800\"\r\n              value={year}\r\n              onChange={(e) => setYear(e.target.value)}\r\n              InputProps={{\r\n                inputProps: {\r\n                  min: 1800,\r\n                },\r\n              }}\r\n              style={{ marginBottom: \"20px\", marginRight: \"2rem\" }}\r\n            />\r\n\r\n            <TextField\r\n              label=\"Raiting\"\r\n              type=\"number\"\r\n              helperText=\"from 0 to 10\"\r\n              onChange={(e) => setRaiting(e.target.value)}\r\n              value={raiting}\r\n              InputProps={{\r\n                inputProps: {\r\n                  min: 0,\r\n                  max: 10,\r\n                },\r\n              }}\r\n              style={{ marginBottom: \"30px\" }}\r\n            />\r\n            <Container>\r\n              <TextField\r\n                label=\"ISBN\"\r\n                inputProps={{ maxLength: 17 }}\r\n                type=\"text\"\r\n                onChange={(e) => setIsbn(e.target.value)}\r\n                value={checkIsnb(isbnS) ? isbn : null}\r\n                style={{ marginBottom: \"30px\" }}\r\n              />{\" \"}\r\n              {checkIsnb(isbnS) ? (\r\n                isbnS !== \"\" ? (\r\n                  <CheckIcon style={{ color: \"green\", marginTop: \"1rem\" }} />\r\n                ) : null\r\n              ) : (\r\n                <ClearIcon style={{ color: \"red\", marginTop: \"1rem\" }} />\r\n              )}\r\n            </Container>\r\n\r\n            <Button\r\n              onClick={pushBook}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              disabled={authors.length === 0 || title === '' || year && (year <1800 || year > new Date().getFullYear() + 3) || raiting && (raiting >10 || raiting < 0) ? true : (authors[0].author === '' ? true : false)}\r\n              style={{ marginBottom: \"30px\" }}\r\n            >\r\n              ADD new book\r\n            </Button>\r\n          </Container>\r\n        ) : (\r\n          <Container className=\"delete-form\">\r\n            <FormControl style={{ marginTop: \"20px\" }}>\r\n              <Select value={bookToDelete} onChange={chooseDelete}>\r\n                {props.books.map((x) => (\r\n                  <MenuItem value={x.title}>{x.title}</MenuItem>\r\n                ))}\r\n              </Select>\r\n\r\n              <FormHelperText style={{ marginBottom: \"20px\" }}>\r\n                Choose book which you want to delete\r\n              </FormHelperText>\r\n            </FormControl>\r\n            <Container>\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={(e) => deleteBook()}\r\n                color=\"secondary\"\r\n                startIcon={<DeleteIcon />}\r\n                size=\"large\"\r\n                disabled={bookToDelete? false : true}\r\n                style={{ marginBottom: \"20px\" }}\r\n              >\r\n                {\" \"}\r\n                DELETE BOOK\r\n              </Button>\r\n            </Container>\r\n          </Container>\r\n        )}\r\n      </Paper>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default AddForm;\r\n","import React from 'react'\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport LibraryBooksIcon from \"@material-ui/icons/LibraryBooks\";\r\n\r\nfunction Header() {\r\n    return (\r\n        <div className='header'>\r\n            <Typography variant=\"h2\" gutterBottom style={{ color: \"white\" }}>\r\n        <LibraryBooksIcon style={{ fontSize: \"3rem\", color: \"white\" }} />{\" \"}\r\n        BookStack\r\n      </Typography>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport firebase from \"../firebase\";\r\nimport BookList from \"./BookList\";\r\nimport AddForm from \"./AddForm\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Header from \"./partials/Header\";\r\nimport { Container } from \"@material-ui/core\";\r\n\r\nconst SORT_OPTIONS = {\r\n  \"TITLE-ASC\": { column: \"title\", direction: \"asc\" },\r\n  \"TITLE-DESC\": { column: \"title\", direction: \"desc\" },\r\n};\r\n\r\nfunction useBooks(sortBy = \"TITLE-ASC\") {\r\n  const [books, setBooks] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const unsuscribe = firebase\r\n      .firestore()\r\n      .collection(\"books\")\r\n      .orderBy(SORT_OPTIONS[sortBy].column, SORT_OPTIONS[sortBy].direction)\r\n      .onSnapshot((snaphot) => {\r\n        const newBooks = snaphot.docs.map((doc) => ({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        }));\r\n\r\n        setBooks(newBooks);\r\n      });\r\n\r\n    return () => unsuscribe();\r\n  }, [sortBy]);\r\n\r\n  return books;\r\n}\r\n\r\nfunction Main() {\r\n  const [sortBy, setSortBy] = useState(\"TITLE-ASC\");\r\n\r\n  const books = useBooks(sortBy);\r\n\r\n  const booksUniqYear = [...new Set(books.map((x) => x.year))]\r\n    .sort(function (a, b) {\r\n      return (b === null) - (a === null) || +(a > b) || -(a < b);\r\n    })\r\n    .reverse();\r\n\r\n  let arrayOfBooks = [];\r\n\r\n  booksUniqYear.forEach((year) => {\r\n    let x = year;\r\n    let obj = {};\r\n    let arr = [];\r\n    books.forEach((book) => {\r\n      if (book.year === x) {\r\n        arr.push(book);\r\n      }\r\n    });\r\n    obj[\"year\"] = x;\r\n    obj[\"listOfBooks\"] = arr;\r\n    arrayOfBooks.push(obj);\r\n  });\r\n\r\n  function shuffle(a) {\r\n    for (let i = a.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1));\r\n      [a[i], a[j]] = [a[j], a[i]];\r\n    }\r\n    return a;\r\n  }\r\n\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  const shufB =\r\n    books.length > 0\r\n      ? shuffle(books.filter((e) => e.year < currentYear - 3)).reduce(\r\n          (prev, current) => (prev.raiting > current.raiting ? prev : current)\r\n        )\r\n      : null;\r\n\r\n  return (\r\n    <div className=\"Main\">\r\n      <Header />\r\n      <label style={{ marginRight: \"1%\", color: \"whitesmoke\" }}>Sort by</label>\r\n      <Select\r\n        value={sortBy}\r\n        onChange={(e) => setSortBy(e.target.value)}\r\n        style={{ color: \"whitesmoke\" }}\r\n      >\r\n        <MenuItem value=\"TITLE-ASC\" >Author (A-Z)</MenuItem>\r\n        <MenuItem value=\"TITLE-DESC\" >Author (Z-A)</MenuItem>\r\n      </Select>\r\n\r\n      <ul>\r\n        {shufB ? (\r\n<Container maxWidth={'md'}>\r\n          <Card \r\n            style={{\r\n              marginLeft: \"10%\",\r\n              marginBottom: \"10px\",\r\n              marginRight: \"10%\",\r\n              display: \"block\",\r\n            }}\r\n          >\r\n            <CardContent style={{ margin: \"300px, 200px\" }}>\r\n              <Typography variant=\"h5\" gutterBottom align=\"left\">\r\n                Recomended\r\n              </Typography>\r\n              <Typography\r\n                variant=\"h6\"\r\n                gutterBottom\r\n                color=\"textPrimary\"\r\n                display=\"block\"\r\n              >\r\n                \"{shufB.title}\" by {shufB.author.join(\",\")}, {shufB.year}\r\n              </Typography>\r\n              <Typography\r\n                variant=\"subtitle2\"\r\n                gutterBottom\r\n                color=\"textPrimary\"\r\n                display=\"block\"\r\n              >\r\n              \r\n                {shufB.raiting\r\n                  ? shufB.raiting == 10\r\n                    ? \"ДЕСЯТЬ ИЗ ДЕСЯТИ НА КОНЧИКАХ ПАЛЬЦЕВ\"\r\n                    : shufB.raiting + \"/10\"\r\n                  : \"not rated yet\"}\r\n              </Typography>\r\n              <Typography\r\n                variant=\"subtitle2\"\r\n                gutterBottom\r\n                color=\"textPrimary\"\r\n                display=\"block\"\r\n              >\r\n                {shufB.ISBN ? \"ISBN: \" + shufB.ISBN : null}\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n          </Container>\r\n        ) : <CircularProgress/>}\r\n        {arrayOfBooks.map((x, id) => {\r\n          return (\r\n            <Container maxWidth={'md'}>\r\n              <BookList key={id} year={x.year} listOfBooks={x.listOfBooks} />\r\n            </Container>\r\n          );\r\n        })}\r\n\r\n        <AddForm books={books} key={uuidv4()}/>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import { Container } from '@material-ui/core'\r\nimport React from 'react'\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer>\r\n        <Container maxWidth={false} className='footer' >\r\n        <Typography variant=\"body2\" gutterBottom className='footer-text' >\r\n            Made with 🎧 by Keyjey101 © 2021\r\n          </Typography>\r\n          \r\n        </Container>\r\n            \r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import \"./App.css\";\nimport \"@fontsource/roboto\";\nimport Main from \"./components/Main\";\nimport Footer from \"./components/partials/Footer\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  \n    <App />\n  ,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}